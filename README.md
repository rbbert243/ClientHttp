# Tema4PCom

This is a project for the "Programming Concepts" course at the Politehnica University of Bucharest. The project consists of a client-server application that allows users to perform various operations on a database.

## Client

This project is built using CMake. To build the project, make sure you have CMake version 3.10 or higher installed on your system. Then, follow these steps:

1. Clone the repository to your local machine.
2. Navigate to the project directory.
3. Create a build directory: `mkdir build`.
4. Navigate to the build directory: `cd build`.
5. Generate the build files: `cmake ..`.
6. Build the project: `make`.

The resulting executable will be located in the `build` directory.

### Usage

To use the client, run the executable generated by the build process. The client supports the following commands:

- `register`: Register a new user account.
- `login`: Log in to an existing user account.
- `enter_library`: Enter the library system.
- `get_books`: Get a list of all books in the library.
- `get_book`: Get information about a specific book.
- `add_book`: Add a new book to the library.
- `delete_book`: Delete a book from the library.
- `logout`: Log out of the current user account.
- `help`: Display a list of available commands.
- `exit`: Exit the client.

Note that some commands require you to be logged in to a user account. If you are not logged in, you will be prompted to do so before executing the command.

### Contributing

If you would like to contribute to the project, please fork the repository and submit a pull request. We welcome contributions of all kinds, including bug fixes, new features, and documentation improvements.

### License

This project is licensed under the MIT License - see the LICENSE file for details.

# Code Structure

## `main.cpp`

`main.cpp` is a C++ file that contains the main function of the client application. This function is responsible for creating the objects needed to establish a connection to the server, and for processing user input.

## `Client.cpp`

`Client.cpp` is a source file that contains the implementation of the `Client` class. The `Client` class is responsible for establishing a connection to the server, sending requests to the server, and receiving responses from the server.

The `Client` class has a constructor that takes a port number as an argument, and initializes the `sock_fd` member variable with a new socket file descriptor. It also initializes the `server_addr` member variable with the IP address and port number of the server.

The `Client` class has a destructor that does nothing.

The `Client` class has several member functions, including `establish_connection`, `reconnect`, `send_request`, and `receive_response`. The `establish_connection` function connects to the server using the `connect` system call. The `reconnect` function closes the current connection and establishes a new connection to the server. The `send_request` function sends a request to the server using the `send` system call. The `receive_response` function receives a response from the server using the `recv` system call.

## `Request.cpp`

`Request.cpp` is a C++ file that contains the implementation of the `Request` class. This class is responsible for creating HTTP requests with various parameters such as method, path, payload, cookie, and JWT. The `to_string()` method of this class is used to convert the request object to a string representation that can be sent over the network.

## `Response.cpp`

`Response.cpp` is a C++ file that contains the implementation of the `Response` class. This class is responsible for parsing HTTP responses received from a server. The constructor of this class takes a string representation of the response and parses it into its various components such as HTTP version, status code, status message, headers, and body. The class provides getter methods to access these components. The `headers` member is stored as an unordered map of key-value pairs.

## `Session.cpp`

`Session.cpp` is a C++ file that contains the implementation of the `Session` class. This class is responsible for managing the user's session with the server. The constructor of this class takes a `Client` object as an argument and initializes the `client` member variable with it. The `Session` class has a destructor that does nothing.